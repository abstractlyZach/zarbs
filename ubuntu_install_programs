#!/usr/bin/env sh

# install all the programs in programs.csv

set -x # echo commands

# ignore the first line (headers)
# https://stackoverflow.com/questions/339483/how-can-i-remove-the-first-line-of-a-text-file-using-bash-sed-script
tail -n +2 ubuntu_programs.csv  > /tmp/programs.csv

while IFS="," read -r program comment; do
    sudo apt-get install $program -y
done < /tmp/programs.csv

# install spaceship prompt for zsh.
# normally I would write this in the loop like the other programs
# but it has unsafe perms and I don't quite know how unsafe that is.
# so I think it makes sense to keep this in its own area
sudo npm install -g spaceship-prompt --unsafe-perm=true
